# SPLENTA 项目上下文
**Claude Code 会话恢复文档**

---

## 📦 基本信息
- **项目名称**: SPLENTA (智能瞬态合成器)
- **内部版本**: V19.5 - 20251223.02
- **对外版本**: V1.0.0
- **公司品牌**: Solaris
- **Bundle ID**: com.solaris.SPLENTA
- **厂商代码**: SLRS (4字母)
- **插件代码**: Splt

## 🎨 主要特性

### 5个主题色系
1. **Bronze** (FFB045) - 莫比乌斯环
2. **Blue** (22D3EE) - 波浪场
3. **Purple** (D8B4FE) - 月球环绕
4. **Green** (4ADE80) - 神经网络
5. **Pink** (FF3399) - 跳动心脏 ❤️ (新设计，写实风格)

### A/B 参数对比系统
- 3D正四面体旋转按钮（A/B之间）
- **左键**: A→B 顺时针720°，颜色循环：Bronze→Blue→Purple→Green→Pink
- **右键**: B→A 逆时针720°，颜色反向：Pink→Green→Purple→Blue→Bronze
- 60 FPS流畅动画

### 粉色主题心脏设计（最新）
- **写实解剖心脏**：300个粒子构建，参数化心形方程
- **自然跳动**：70-80 BPM（随intensity调节）
- **散射效果**：均匀径向扩散（非混乱云），膨胀再复原
- **冠状动脉**：3条螺旋血管
- **跳动节奏**：收缩-反弹-舒张三段式

### 其他细节
- **包络显示文字**: "Something for Nothing"（无信号时显示）
- **主题色球**: 5个纯色球，无背景框（macOS交通灯风格）
- **耳机图标**: 现代粒子风格（10x10圆点）

## 🛠 开发环境

### 路径配置
```bash
项目根目录: /Users/MediaStorm/Desktop/NewProject
JUCE路径: /Users/MediaStorm/Downloads/JUCE
Projucer: /Users/MediaStorm/Downloads/JUCE/Projucer.app/Contents/MacOS/Projucer
Xcode项目: /Users/MediaStorm/Desktop/NewProject/Builds/MacOSX
```

### 编译命令
```bash
# Debug构建
cd /Users/MediaStorm/Desktop/NewProject/Builds/MacOSX
xcodebuild -scheme "SPLENTA - VST3" -configuration Debug build

# Release构建
xcodebuild -scheme "SPLENTA - VST3" -configuration Release clean build

# 安装位置
/Users/MediaStorm/Library/Audio/Plug-Ins/VST3/SPLENTA.vst3
```

### DMG打包
```bash
# 1. 构建Release
xcodebuild -scheme "SPLENTA - VST3" -configuration Release clean build

# 2. 复制到staging
cp -R build/Release/SPLENTA.vst3 /tmp/SPLENTA_DMG/

# 3. 生成DMG
hdiutil create -volname "SPLENTA V1.0.0" \
  -srcfolder /tmp/SPLENTA_DMG \
  -ov -format UDZO \
  -o "/Users/MediaStorm/Desktop/SPLENTA-V1.0.0.dmg"
```

## 📂 关键文件

### 核心代码
- `Source/PluginEditor.cpp` - 主界面
- `Source/PluginProcessor.cpp` - 音频处理
- `Source/EnergyTopologyComponent.cpp` - 能量可视化（心脏在这里）
- `Source/ABCompareComponent.cpp` - A/B比较（彩虹金字塔）
- `Source/ThemeSelector.h` - 5色球选择器
- `Source/Theme.h` - 主题色定义

### 文档和资源
- `SPLENTA_使用说明.md` - 中文完整手册
- `SPLENTA_使用说明.pdf` - PDF版本（1.2MB）
- `SPLENTA_WordPress.html` - 完整网页（V1.0.0）
- `SPLENTA_WordPress_Part1.html` - 前半部分（功能介绍）
- `SPLENTA_WordPress_Part2.html` - 后半部分（下载区）

## 🚀 版本历史

### V19.5 - 20251223.02
- 粉色主题：飞碟轨迹 → 跳动心脏（写实解剖风格）
- 心脏特性：70-80 BPM，均匀散射，3条血管

### V19.5 - 20251223.01
- A/B金字塔：单色 → 五彩循环（5主题色渐变）
- Bundle ID改为Solaris

### V19.5 - 20251218
- A/B比较3D金字塔动画
- 修复参数复制逻辑

### V1.0.0 对外版本
- 首次公开发布版本
- 包含所有19.5内部功能
- DMG打包完成

## ⏳ 待办事项

### 短期
- [ ] 测试心脏动画性能
- [ ] 优化粒子渲染（如果卡顿）

### 中期（等开发者账号）
- [ ] Apple开发者账号审批（已付688元，等待中）
- [ ] 获取Team ID
- [ ] 代码签名（Developer ID Application证书）
- [ ] 公证（Notarization）
- [ ] 生成签名版DMG

### 长期
- [ ] Windows版本（Inno Setup打包）
- [ ] 网站发布（TALabs论坛 https://www.tricycle-acustica.org.cn）
- [ ] 用户反馈收集

## 🔧 常见操作

### 修改插件后重新生成Xcode项目
```bash
"/Users/MediaStorm/Downloads/JUCE/Projucer.app/Contents/MacOS/Projucer" \
  --resave "/Users/MediaStorm/Desktop/NewProject/NewProject.jucer"
```

### 查看最近改动
```bash
git log --oneline --graph -10
```

### 查看特定功能提交
```bash
git log --all --grep="heart\|rainbow\|Solaris"
```

### 回滚到某个版本
```bash
git checkout <commit-hash>
```

## 🎯 设计理念

### 视觉风格
- **工业/科技感**：暗色背景，粒子系统
- **拒绝浮夸**：直接实用的描述，无AI味
- **一致性**：所有图标用圆点粒子风格

### 交互原则
- **A/B对比流畅**：一键复制，无需手动切换
- **主题切换即时**：5色球点击立即生效
- **视觉反馈清晰**：触发时散射动画

### 命名哲学
- **SPLENTA**：瞬态合成器
- **Solaris**：太空科幻感（电影《飞向太空》）
- **Something for Nothing**：彩蛋文字（等待触发时）

## 📞 开发者信息

- **开发平台**: macOS 14.3 (Apple Silicon)
- **JUCE版本**: 最新稳定版
- **Xcode版本**: 16F6
- **GitHub**: https://github.com/fatimabarochow23-hash/SPLENTA

---

## 🆘 会话恢复指南

如果Claude对话丢失，开新对话时提供：

1. **这个文件路径**：`/Users/MediaStorm/Desktop/NewProject/.claude-context.md`
2. **简短描述**：
   > "我在开发SPLENTA VST3插件，继续之前的工作。
   > 项目在 /Users/MediaStorm/Desktop/NewProject
   > 请读取 .claude-context.md 了解项目状态。"

3. **最近Git日志**：
   ```bash
   cd /Users/MediaStorm/Desktop/NewProject
   git log --oneline -5
   ```

Claude会从Git历史和这个文档快速恢复上下文！

---

**最后更新**: 2025-12-24 01:45
**当前状态**: ✅ 粉色心脏动画已完成，等待测试
