# SPLENTA 使用说明书
**版本：V19.5**
**类型：瞬态合成器 (Transient Synthesizer)**
**格式：VST3 (macOS)**

---

## 目录
1. [产品简介](#产品简介)
2. [快速开始](#快速开始)
3. [界面概览](#界面概览)
4. [控件详解](#控件详解)
5. [预设系统](#预设系统)
6. [AB比较功能](#ab比较功能)
7. [MIDI模式](#midi模式)
8. [使用技巧](#使用技巧)

---

## 产品简介

SPLENTA 是一款专业的**瞬态合成器**插件，用于创建打击乐、音效和低频增强效果。通过分析输入音频的瞬态信号，SPLENTA 可以生成同步的合成音色，并与原始信号混合，为你的音乐制作添加力量感和冲击力。

### 核心特性
- 🎯 **瞬态检测器**：智能分析输入信号的瞬态，自动触发合成器
- 🎹 **MIDI模式**：支持虚拟键盘和外部MIDI控制器演奏
- 🎨 **5种主题配色**：Bronze（青铜）、Silver（银色）、Gold（金色）、Platinum（白金）、Diamond（钻石）
- 🔊 **双层合成引擎**：音高包络 + 振幅包络，精确控制音色形状
- 🎚️ **COLOR饱和度**：模拟电路般的温暖失真效果
- 🔀 **Split分离模式**：同时输出原始信号和合成信号到不同通道
- 🔄 **AB比较**：快速对比两组参数设置

---

## 快速开始

### 安装
1. 双击 `.dmg` 文件打开安装包
2. 将 `SPLENTA.vst3` 拖拽到 `/Library/Audio/Plug-Ins/VST3/` 文件夹
3. 重启你的DAW（Logic Pro、FL Studio、Ableton Live等）
4. 在插件列表中找到 `SPLENTA`

### 第一次使用
1. **加载预设**：点击顶部栏的文件夹图标，选择一个预设（推荐："808 Kick"）
2. **播放音频**：在DAW中播放含有瞬态的音频轨道（如鼓组、打击乐）
3. **调整Mix**：使用右侧的 `MIX` 旋钮混合合成音色
4. **监听效果**：点击耳机图标（Audition）可以单独监听合成音色

---

## 界面概览

SPLENTA界面分为**4个主要面板**：

```
┌─────────────────────────────────────────────────────────────┐
│  [SAVE] [SHUFFLE] [LOAD] [A][🔺][B] [THEME▼]        [⚡]   │  ← 顶部工具栏
├──────────────────────┬──────────────────────────────────────┤
│  INPUT DETECTOR      │  ENERGY TOPOLOGY                     │  ← 上半区
│  [包络可视化]         │  [能量拓扑图]                         │
│  [Scale: 100%]       │                                      │
├──────────────────────┴─────────────────┬────────────────────┤
│  ENFORCER CORE                         │  MASTER OUTPUT     │  ← 下半区
│  [DETECTOR] [GENERATOR] [ENVELOPE]     │  [输出控制]         │
│   ○ ○ ○     ○ ○ ○       ○ ○ ○ ○        │   ○ ○ ○           │
│   ○ ○       ○ ○ ○                      │                   │
└────────────────────────────────────────┴────────────────────┘
```

### 顶部工具栏（从左到右）
- **SAVE**：保存当前参数为自定义预设
- **SHUFFLE**：随机生成新参数（实验性音色）
- **LOAD**：加载预设（15个工厂预设）
- **A/B比较**：快速对比两组参数
- **THEME**：主题配色选择器
- **POWER**：总开关（右上角闪电图标）

### 四大面板
1. **INPUT DETECTOR**（左上）：显示输入信号的包络波形
2. **ENERGY TOPOLOGY**（右上）：实时能量分布可视化
3. **ENFORCER CORE**（左下）：核心参数控制区
4. **MASTER OUTPUT**（右下）：输出混音控制

---

## 控件详解

### 📍 INPUT DETECTOR（输入检测器）

#### 包络可视化
- **绿色波形**：实时显示检测到的输入信号包络
- **触发图标**：当检测到瞬态时，右上角会闪烁主题色图标
- **Scale控制**：鼠标在 `100%` 文字上上下拖动，可缩放波形显示（50%-400%）

---

### 🎛️ ENFORCER CORE（核心参数区）

核心区分为**三列**控件：

---

#### 第一列：// DETECTOR（检测器）

**THRESHOLD（阈值）** `-60dB 到 0dB`
- **作用**：设置触发合成器的最低输入电平
- **用法**：
  - 值越高 = 只有强信号才触发（适合主鼓）
  - 值越低 = 微弱信号也触发（适合细节增强）
- **建议**：从 -20dB 开始调整

**CEILING（上限）** `-40dB 到 0dB`
- **作用**：限制检测器的最大输出电平
- **用法**：防止过强的瞬态产生过载失真
- **建议**：保持在 -6dB 左右

**DET_REL（检测释放时间）** `1ms 到 500ms`
- **作用**：检测器包络的释放速度
- **用法**：
  - 短时间（5-20ms）= 快速响应，适合快速打击
  - 长时间（100-300ms）= 平滑响应，适合延音打击
- **建议**：鼓类使用 10-30ms

**F_FREQ（滤波器频率）** `20Hz 到 20000Hz`
- **作用**：检测器前置滤波器的中心频率
- **用法**：只检测特定频段的瞬态（如只增强低频）
- **建议**：
  - 低频鼓：60-150Hz
  - 军鼓：200-500Hz
  - 全频段：关闭滤波（Q设为最小）

**F_Q（滤波器品质因数）** `0.1 到 10.0`
- **作用**：滤波器的陡峭程度
- **用法**：
  - Q = 0.1 = 几乎不滤波（全频段通过）
  - Q = 5-10 = 极窄频段（精确定位）
- **建议**：一般使用 0.5-2.0

**👂 Audition（监听按钮）**
- **作用**：单独监听合成音色（不含原始信号）
- **用法**：点击切换，用于调整合成音色的音高和包络
- **图标**：耳机符号，激活时高亮显示

---

#### 第二列：// GENERATOR（音色生成器）

**START_FREQ（起始频率）** `20Hz 到 2000Hz`
- **作用**：合成音色的起始音高
- **用法**：
  - 808 Kick：60-80Hz
  - Sub Drop：30-40Hz
  - 军鼓：150-250Hz
- **建议**：根据音乐调性选择（如C调 = 65Hz）

**PEAK_FREQ（峰值频率）** `20Hz 到 2000Hz`
- **作用**：音高包络到达的目标频率
- **用法**：
  - 相同频率 = 无音高变化（纯音调）
  - 高于起始 = 上扫音高（点击感）
  - 低于起始 = 下扫音高（经典808）
- **建议**：
  - Kick：起始 80Hz → 峰值 50Hz（下扫）
  - Tom：起始 150Hz → 峰值 100Hz

**SHAPE（波形选择）**
- **选项**：
  - **SINE**（正弦波）：纯净低频，无谐波
  - **TRI**（三角波）：温暖低频，少量谐波
  - **SAW**（锯齿波）：明亮音色，丰富谐波
  - **SQR**（方波）：空心音色，奇次谐波
- **用法**：点击按钮切换
- **建议**：
  - Sub Bass 使用 SINE
  - 808 Kick 使用 SINE/TRI
  - 合成打击 使用 SAW/SQR

**COLOR（色彩饱和度）** `0% 到 100%`
- **作用**：模拟电路饱和失真，增加谐波和温暖感
- **界面**：大型圆形控件，带刻度环
- **用法**：
  - 0% = 干净数字音色
  - 30-50% = 温暖模拟感
  - 80-100% = 强烈失真效果
- **建议**：从 20-40% 开始

**NOISE_MIX（噪声混合）** `0% 到 100%`
- **作用**：混入白噪声，增加攻击感和空气感
- **用法**：
  - 0% = 纯音调
  - 10-30% = 轻微噪声（适合Kick）
  - 50-80% = 重噪声（适合军鼓、嗵鼓）
- **建议**：Kick使用 0-15%，Snare使用 40-70%

---

#### 第三列：// ENVELOPE（包络控制）

**P_ATT（音高攻击时间）** `0.1ms 到 100ms`
- **作用**：从起始频率到峰值频率的过渡时间
- **用法**：
  - 短时间（0-5ms）= 瞬间音高变化（点击感）
  - 长时间（20-50ms）= 缓慢滑音（808效果）

**P_DEC（音高衰减时间）** `1ms 到 1000ms`
- **作用**：从峰值频率回到起始频率的时间
- **用法**：
  - 短时间 = 快速回落
  - 长时间 = 经典808音高拖尾（120-400ms）

**A_ATT（振幅攻击时间）** `0.1ms 到 100ms`
- **作用**：音量从0到最大的上升时间
- **用法**：
  - 极短（0-2ms）= 瞬间打击（Kick、Snare）
  - 中等（5-15ms）= 柔和起音（Tom）

**A_DEC（振幅衰减时间）** `1ms 到 2000ms`
- **作用**：音量衰减到0的时间
- **用法**：
  - 短时间（50-150ms）= 紧凑打击
  - 长时间（300-800ms）= 延音效果（Sub Drop）

**RETRIGGER MODE（重触发模式）**
- **选项**：
  - **POLY**（复音）：每次触发创建新音符（重叠发声）
  - **MONO**（单音）：新触发会停止旧音符（防止叠加）
- **用法**：点击按钮切换
- **建议**：
  - 快速连击 → MONO（避免混乱）
  - 独立打击 → POLY（更自然）

---

### 🎚️ MASTER OUTPUT（主输出控制）

**DUCKING（闪避）** `-40dB 到 0dB`
- **作用**：当合成器触发时，降低原始信号的音量
- **用法**：
  - 0dB = 无闪避（原始信号不变）
  - -20dB = 强闪避（合成音色更突出）
- **应用**：避免原始鼓和合成鼓叠加过载

**D_ATT / D_DEC（闪避包络时间）**
- **作用**：闪避效果的攻击和释放时间
- **建议**：5-20ms，快速响应

**WET_GAIN（合成增益）** `-20dB 到 +20dB`
- **作用**：合成音色的输出电平
- **用法**：调整合成信号的响度

**DRY_MIX（原始混合）** `0% 到 100%`
- **作用**：原始输入信号的混合比例
- **用法**：
  - 0% = 纯合成音色
  - 50% = 原始和合成各半
  - 100% = 完全保留原始信号

**MIX（总混合）** `0% 到 100%`
- **作用**：插件效果的干湿比
- **用法**：
  - 0% = 完全旁通（原始信号）
  - 100% = 完全效果

**SPLIT（分离模式）**
- **开关状态**：
  - **OFF**：原始信号 + 合成信号混合输出到立体声
  - **ON**：左声道 = 原始信号，右声道 = 合成信号
- **用法**：分别处理原始和合成信号（如单独压缩）
- **图标**：A/C分离符号

**MIDI键盘图标**（右下角）
- **作用**：开启/关闭MIDI模式和虚拟键盘
- **用法**：点击图标，窗口下方展开虚拟键盘

---

## 预设系统

### 加载预设
点击顶部 **LOAD**（文件夹图标）按钮，弹出菜单包含 **15个工厂预设**，分为3类：

#### 🔫 REALISTIC（真实音效）
1. **Gunshot**：枪声效果
2. **Cannon**：炮声轰鸣
3. **Footstep**：脚步声增强
4. **Door Slam**：关门撞击
5. **Thunder**：雷声

#### 🚀 SCI-FI（科幻音效）
6. **Laser**：激光枪
7. **Pulse**：脉冲能量
8. **Energy Shield**：能量护盾
9. **Portal**：传送门
10. **Drone**：无人机嗡鸣

#### 🎵 MUSIC（音乐制作）
11. **808 Kick**：经典嘻哈底鼓
12. **Sub Drop**：低频下潜
13. **Boom Bap**：90年代打击
14. **Deep House**：深邃House低音
15. **Trap 808**：现代Trap下滑音

### 保存预设
1. 调整好参数后，点击 **SAVE**（软盘图标）
2. 当前参数会保存为"Custom Preset"
3. ⚠️ 注意：暂不支持自定义命名（后续版本更新）

### 随机生成
点击 **SHUFFLE**（骰子图标）按钮：
- 随机生成新参数组合
- 包络显示会立即清空
- 适合寻找实验性音色

---

## AB比较功能

顶部栏的 **A/B比较系统**让你快速对比两组参数设置。

### 界面布局
```
[A] [🔺] [B]
```
- **A按钮**：切换到A组参数
- **B按钮**：切换到B组参数
- **🔺金字塔**：复制参数按钮

### 使用方法

#### 基础切换
1. 调整参数到理想状态（比如重低音808）
2. 点击 **B** 切换到B组
3. 调整新参数（比如更明亮的808）
4. 点击 **A** 切换回原始音色
5. 快速对比两种音色

#### 复制功能
**左键点击金字塔** = A复制到B
- 金字塔亮**青色**，**顺时针旋转2圈**
- A组参数覆盖B组
- 不会自动切换状态（需手动点B查看）

**右键点击金字塔** = B复制到A
- 金字塔亮**紫色**，**逆时针旋转2圈**
- B组参数覆盖A组
- 不会自动切换状态（需手动点A查看）

### 使用场景
- **调整对比**：从预设开始，复制到B，微调后对比
- **备份保险**：尝试激进调整前，先复制到B组
- **版本迭代**：逐步优化音色，A/B来回对比

---

## MIDI模式

SPLENTA支持两种MIDI输入方式：

### 1️⃣ 虚拟键盘
1. 点击右下角 **MIDI键盘图标**
2. 窗口向下扩展，显示虚拟键盘
3. 鼠标点击琴键演奏
4. 窗口高度从 620px 扩展到 720px
5. 再次点击图标关闭键盘

### 2️⃣ 外部MIDI控制器
1. 连接MIDI键盘/打击垫到电脑
2. 在DAW中将MIDI轨道路由到SPLENTA
3. 演奏MIDI设备，自动触发合成器
4. **C4（MIDI 60）= 261.63Hz**，其他音符按12平均律计算频率

### MIDI音高映射
- SPLENTA会根据MIDI音符号计算频率
- **频率计算公式**：`frequency = 440.0 × 2^((midiNote - 69) / 12.0)`
- 顶部栏会显示当前MIDI音符名称和频率（如 "C4 261Hz"）

### MIDI模式优先级
- 当MIDI音符正在演奏时，**瞬态检测器会被禁用**
- MIDI释放后，自动恢复瞬态检测模式
- 可以混合使用：MIDI演奏旋律 + 瞬态增强节奏

---

## 使用技巧

### 🥁 鼓组增强
**目标**：为原始鼓轨增加低频冲击力

1. 加载预设："808 Kick"
2. 调整 **THRESHOLD** 让底鼓触发，军鼓不触发（-15dB左右）
3. 设置 **START_FREQ** 为音乐调性的根音（如C调 = 65Hz）
4. 降低 **PEAK_FREQ** 到 40-50Hz（下扫音高）
5. 设置 **A_DEC** = 150-200ms（适中尾音）
6. **MIX** = 40-60%（混合原始鼓）
7. 启用 **DUCKING** = -10dB（避免叠加过载）

---

### 🎹 Sub Bass层叠
**目标**：为Bass线条增加超低频

1. 加载预设："Deep House"
2. 设置 **F_FREQ** = 100Hz，**F_Q** = 1.0（只检测低频）
3. **START_FREQ** = **PEAK_FREQ** = 根音频率（无音高变化）
4. **SHAPE** = SINE（纯净低频）
5. **COLOR** = 15-25%（轻微温暖感）
6. **A_ATT** = 10ms，**A_DEC** = 400ms（缓慢包络）
7. **DRY_MIX** = 0%（纯合成低频）
8. **MIX** = 30-40%

---

### ⚡ 瞬态增强（Transient Shaper）
**目标**：增强打击乐的攻击感

1. 加载预设："Boom Bap"
2. **THRESHOLD** = -25dB（捕捉所有打击）
3. **START_FREQ** = 200Hz，**PEAK_FREQ** = 300Hz（轻微上扫）
4. **A_ATT** = 0.5ms（极快攻击）
5. **A_DEC** = 30ms（短促衰减）
6. **NOISE_MIX** = 40%（增加空气感）
7. **MIX** = 20-30%（只增强，不替代）

---

### 🎬 音效设计
**目标**：创造科幻音效

1. 加载预设："Laser" 或 "Portal"
2. 调整 **START_FREQ** 和 **PEAK_FREQ** 创造大跨度音高扫描
3. 尝试 **SAW** 或 **SQR** 波形（更丰富谐波）
4. **P_ATT** 和 **P_DEC** 设置为不同值（非对称扫描）
5. **COLOR** = 60-80%（失真效果）
6. **NOISE_MIX** = 50-70%（能量感）
7. 点击 **SHUFFLE** 多次，寻找意外惊喜
8. 使用 **Audition** 单独监听合成音色

---

### 🔄 AB比较工作流
**目标**：优化音色调整过程

**场景1：渐进优化**
1. 加载预设："808 Kick"，调整到满意（版本A）
2. 左键点击金字塔（A→B复制）
3. 点击B按钮，微调参数（比如增加 **COLOR**）
4. 点击A/B来回切换，对比哪个更好
5. 如果B更好，保持B；如果A更好，右键金字塔（B→A覆盖）

**场景2：安全实验**
1. 当前音色很好，想尝试激进调整
2. 左键金字塔备份到B
3. 在A组随意调整，甚至点击 **SHUFFLE**
4. 不满意？点击B按钮，立即恢复原音色
5. 满意？继续优化A组

---

## 常见问题

### ❓ 为什么没有声音？
1. **检查POWER按钮**（右上角）是否开启（亮主题色）
2. **检查MIX旋钮**是否大于0%
3. **检查THRESHOLD**是否过高（降低到-20dB测试）
4. **检查DAW音频路由**是否正确
5. 启用 **Audition** 单独监听合成音色（排查是检测器问题还是混音问题）

### ❓ 触发不稳定/漏触发？
1. 降低 **THRESHOLD**（更敏感）
2. 调整 **DET_REL** 到20-50ms（避免过快重触发）
3. 检查输入信号是否过小（提高输入增益）
4. 使用 **F_FREQ** 和 **F_Q** 定位特定频段（过滤干扰）

### ❓ 音色过亮/过暗？
1. **过亮**：降低 **COLOR**，使用 SINE 波形，减少 **NOISE_MIX**
2. **过暗**：增加 **COLOR**，切换到 SAW/SQR 波形，提高 **NOISE_MIX**

### ❓ 低频不够强？
1. 提高 **WET_GAIN**（+6dB 到 +12dB）
2. 降低 **START_FREQ** 和 **PEAK_FREQ**（40-60Hz）
3. 使用 SINE 波形（最强低频）
4. 减少 **DRY_MIX**（更多合成信号）

### ❓ 如何避免相位问题？
- SPLENTA的合成信号是独立生成的，不会与原始信号产生相位抵消
- 如果原始鼓已有低频，建议使用 **DUCKING** 功能
- 或者启用 **SPLIT** 模式，分别处理原始和合成信号

---

## 系统要求

- **操作系统**：macOS 10.13 或更高版本
- **处理器**：Intel 或 Apple Silicon（M1/M2/M3）
- **内存**：最低 4GB RAM
- **插件格式**：VST3
- **DAW兼容**：Logic Pro、FL Studio、Ableton Live、Reaper、Studio One等

---

## 技术支持

- **开发者**：yourcompany
- **版本**：V19.5 (2025-12-23)
- **GitHub**：https://github.com/fatimabarochow23-hash/SPLENTA

---

## 更新日志

### V19.5 (2025-12-23)
- ✨ 新增 A/B比较功能（3D金字塔旋转动画）
- 🐛 修复复制参数需要提前切换的问题

### V19.4 (2025-12-23)
- ✨ 完整MIDI模式支持（虚拟键盘 + 外部MIDI）
- ✨ 实时MIDI音符显示（七段数码管样式）

### V19.3 (2025-12-22)
- ✨ 新增 SHUFFLE 随机参数生成
- ✨ 新增 COLOR 饱和度控件（大型圆形UI）
- ✨ 新增 RETRIGGER 模式选择（POLY/MONO）
- ✨ 新增 SPLIT 立体声分离模式

### V19.0-19.2
- 🎨 5种主题配色系统
- 🎚️ 完整参数控制界面
- 📊 实时包络可视化
- 🎵 15个工厂预设

---

**© 2025 yourcompany. All rights reserved.**

---

## 附录：参数速查表

| 参数 | 范围 | 默认值 | 用途 |
|------|------|--------|------|
| THRESHOLD | -60 ~ 0 dB | -20 dB | 触发阈值 |
| CEILING | -40 ~ 0 dB | -6 dB | 检测上限 |
| DET_REL | 1 ~ 500 ms | 20 ms | 检测释放 |
| F_FREQ | 20 ~ 20000 Hz | 100 Hz | 滤波器频率 |
| F_Q | 0.1 ~ 10.0 | 0.7 | 滤波器Q值 |
| START_FREQ | 20 ~ 2000 Hz | 80 Hz | 起始频率 |
| PEAK_FREQ | 20 ~ 2000 Hz | 50 Hz | 峰值频率 |
| COLOR_AMOUNT | 0 ~ 100% | 30% | 饱和度 |
| NOISE_MIX | 0 ~ 100% | 0% | 噪声混合 |
| P_ATT | 0.1 ~ 100 ms | 2 ms | 音高攻击 |
| P_DEC | 1 ~ 1000 ms | 100 ms | 音高衰减 |
| A_ATT | 0.1 ~ 100 ms | 1 ms | 振幅攻击 |
| A_DEC | 1 ~ 2000 ms | 200 ms | 振幅衰减 |
| DUCKING | -40 ~ 0 dB | 0 dB | 闪避深度 |
| D_ATT | 1 ~ 100 ms | 10 ms | 闪避攻击 |
| D_DEC | 1 ~ 500 ms | 50 ms | 闪避释放 |
| WET_GAIN | -20 ~ +20 dB | 0 dB | 合成增益 |
| DRY_MIX | 0 ~ 100% | 50% | 原始混合 |
| MIX | 0 ~ 100% | 100% | 总混合 |
