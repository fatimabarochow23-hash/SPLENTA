# Batch 00 — 主题系统地基：新调色板 + 新 ThemeSelector 色球 Dock（替换旧 themeBox）

## 背景/约束
- 当前工程仅 6 个文件：PluginProcessor.* / PluginEditor.* / EnvelopeView.*
- 必须彻底移除旧主题配色与旧主题名字（UI 不显示名字）
- 主题切换必须驱动：全局背景/面板/强调色/发光色 + EnvelopeView 颜色联动
- THEME 参数 ID 保持为 "THEME"（宿主自动化/状态键不变）
- 输出要求：凡修改到的 .h/.cpp 必须给出“完整文件内容”（不允许省略）

## 目标
1) 引入主题枚举与调色板结构（对齐 Web 版 App.tsx）：
   - Bronze accent #FFB045, glow #FF9000, bg950 #140C08, panel900 #21130D（其余层级可先保留备用）
   - Blue   accent #22D3EE, glow #06B6D4, bg950 #020617, panel900 #0F172A
   - Purple accent #D8B4FE, glow #C084FC, bg950 #0F0518, panel900 #1E082F
   - Green  accent #4ADE80, glow #22C55E, bg950 #021205, panel900 #062C1B
   - Pink   accent #FF3399, glow #FF0080, bg950 #1F0510, panel900 #380A1C

2) 在 JUCE 中实现 ThemeSelector 组件（Dock 栏 + 5 色球）：
   - Dock 胶囊：white alpha 0.05，圆角（capsule）
   - 内边距：约 4px
   - 5 个圆点水平排布
   - 状态：
     - selected：alpha=1.0 + radius+2 + DropShadow/径向 glow（使用 glow 色，alpha ~0.6，radius ~8）
     - hovered：alpha=1.0 不发光
     - idle：alpha=0.3 且略小（reduced(1)）
   - 交互：
     - mouseMove 计算 hoveredIndex
     - mouseExit 清空 hoveredIndex
     - mouseDown 根据 x 点击命中圆点 -> 更新 selectedIndex -> 回调 onThemeChanged(selectedIndex) -> repaint()

3) 替换旧 Theme ComboBox：
   - PluginEditor.h/.cpp 删除 themeBox/themeAtt 相关成员与布局
   - 在右上角加入 ThemeSelector（位置参考你现有 themeBox 区域：x≈790,y≈5，高度 20~24）
   - ThemeSelector 点击后写回 APVTS 参数 THEME（使用 processor.setParameterValue 或 APVTS parameter setValueNotifyingHost）
   - Editor 内部颜色更新从 “themeBox index” 改为 “读取 THEME 参数 index”

4) THEME 参数选项字符串更新为新主题（不再出现旧名字）：
   - PluginProcessor.cpp::createParameterLayout() 中 THEME choice list 改为：
     - "Bronze", "Blue", "Purple", "Green", "Pink"
   - 默认值改为 Bronze（index 0）

## 实现提示
- 建议新增文件：Theme.h（可选）；若不新增文件，则把 enum/Palette 静态函数放进 PluginEditor.h 顶部（但更推荐 Theme.h）
- ThemeSelector 用 juce::Component 实现即可（无需 LookAndFeel）
- 颜色联动：
  - PluginEditor::paint() 背景用 palette.bg950
  - 面板用 palette.panel900
  - accent/glow 贯穿 slider/button/FFT/envelopeView
  - EnvelopeView 继续复用 setThemeColors(accent, panel)（panel 传 panel900）

## 验收标准
- UI 里不再出现旧主题名字（RX Classic 等完全消失）
- 右上角显示 5 色球 Dock：点击切换主题，选中球有 glow
- 切换主题后：背景色、面板色、accent 色即时变化；EnvelopeView 颜色也变化
- THEME 参数在宿主自动化列表里只出现新主题选项

